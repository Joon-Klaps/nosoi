<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Getting started • nosoi</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Getting started">
<meta property="og:description" content="nosoi">
<meta property="og:image" content="/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">nosoi</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.1.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/nosoi.html">
    <span class="fas fa-play-circle"></span>
     
    Getting started
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    <span class="fas fa-book"></span>
     
    Simulation set up
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/none.html">Spread of a pathogen in a homogeneous population</a>
    </li>
    <li>
      <a href="../articles/discrete.html">Spread of a pathogen in a discrete structured population</a>
    </li>
    <li>
      <a href="../articles/continuous.html">Spread of a pathogen in a continuous space</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    <span class="fas fa-file"></span>
     
    Visualise &amp; summarise
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/output.html">nosoi output</a>
    </li>
    <li>
      <a href="../articles/examples/viz.html">Visualization</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    <span class="fas fa-file"></span>
     
    Pathogen examples
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/examples/dengue.html">Spread of dengue virus in a discrete space</a>
    </li>
    <li>
      <a href="../articles/examples/ebola.html">Spread of Ebola-like virus in a continuous space</a>
    </li>
    <li>
      <a href="../articles/examples/vector-competence.html">Epidemiological impact of mosquito vector competence</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">
    <span class="fa fa-file-code-o"></span>
     
    Reference
  </a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="../news/index.html">Changelog</a>
</li>
<li>
  <a href="https://github.com/slequime/nosoi" class="external-link">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Getting started</h1>
                        <h4 data-toc-skip class="author">Sebastian
Lequime</h4>
            
            <h4 data-toc-skip class="date">2024-02-09</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/slequime/nosoi/blob/HEAD/vignettes/nosoi.Rmd" class="external-link"><code>vignettes/nosoi.Rmd</code></a></small>
      <div class="hidden name"><code>nosoi.Rmd</code></div>

    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p><code>nosoi</code> aims to provide a modular framework to conduct
epidemiological simulations under a wide range of scenarios, varying
from relatively simple to highly complex and parametric. This
flexibility allows <code>nosoi</code> to take into account the effect of
numerous covariates, taken individually or in the form of interactions,
on the epidemic process, without having to use advanced mathematics to
formalize the model into differential equations. At its core,
<code>nosoi</code> generates a transmission chain (a link between
hosts), the foundation of every epidemic process, allowing to
reconstruct in great details the history of the epidemic.</p>
<p><code>nosoi</code> is an agent-based model, which means it is
centered on individuals, here called “hosts”, that enter the simulation
when they get infected. <code>nosoi</code> is also stochastic, and thus
relies heavily on probabilities, mainly 4 core probabilities. It
operates on a discretized time.</p>
<div class="section level3">
<h3 id="critical-assumption-of-nosoi">Critical assumption of <code>nosoi</code><a class="anchor" aria-label="anchor" href="#critical-assumption-of-nosoi"></a>
</h3>
<p><code>nosoi</code> assumes that the maximum number of hosts infected
during a simulation is orders of magnitude smaller than the total
exposed population. This means that, currently, it does not take into
account building herd immunity using the simulated epidemic results
<!-- PB: I'm not sure I understand the sentence above. --> (although a
proxy can be used, as it will be discussed in several of the companion
tutorials).</p>
</div>
<div class="section level3">
<h3 id="essential-building-blocks-3-probabilities-and-2-numbers">Essential building blocks: 3 probabilities and 2 numbers<a class="anchor" aria-label="anchor" href="#essential-building-blocks-3-probabilities-and-2-numbers"></a>
</h3>
<p>At its core, <code>nosoi</code> can be summarized by 3 probabilities
and 2 numbers at a specific time point:</p>
<ul>
<li>
<code>pExit</code> the probability to exit the simulation. For
hosts, that means - for example - dying, being cured, leaving the study
area, etc.</li>
<li>
<code>pMove</code> the probability to move, only relevant when your
simulation has some kind of structure, either in a discrete or
continuous space. For hosts, that could be - for example - traveling,
changing status (gaining access to treatment), etc.</li>
<li>
<code>sdMove</code> the standard deviation of the random walk (links
to the distance traveled in coordinate space), only relevant when a
structure is imposed or assumed in a continuous space.</li>
<li>
<code>nContact</code> the number of contacts. How many potentially
infectious contacts does an infected host have?</li>
<li>
<code>pTrans</code> the probability to transmit. When a contact
occurs between two hosts, with one of them being infected, the
probability that the infection gets transmitted to the uninfected
one.</li>
</ul>
<p>Each of these probabilities and numbers are computed during the
simulation. In a very simple scenario, each one is a constant. In more
complex models supported by <code>nosoi</code>, these probabilities
could depend on a host’s parameters (e.g. genetics), dynamic parameters
(for how long the host has been infected), environmental parameters
(related to the host’s location), or the particular period of the
simulation (e.g. seasons, mitigation campaign,…). All those parameters
can be taken into account either individually, or for the population as
a whole.</p>
</div>
<div class="section level3">
<h3 id="what-happens-at-each-time-step">What happens at each time step?<a class="anchor" aria-label="anchor" href="#what-happens-at-each-time-step"></a>
</h3>
<p>Time is discretized in <code>nosoi</code>. Each time step follows the
same pattern for each host:</p>
<ul>
<li>
<code>pExit</code>: does the host exit the simulation ? This step
samples YES or NO based on the probability <code>pExit</code>.</li>
<li>
<code>pMove</code>: does the host move (if there is structure) ?
This step samples YES or NO based on the probability
<code>pMove</code>.</li>
<li>
<code>sdMove</code>: how far does the host move (if the structure is
a continuous space)? This step returns a number used as a distance in
the continuous space, drawn with standard deviation
<code>sdMove</code>.</li>
<li>
<code>nContact</code>: how many infectious contacts does the host
have? This step yields an integer number <code>nContact</code>.</li>
<li>
<code>pTrans</code>: if there is an infectious contact, does the
host transmit the infection to a new host? This step samples YES or NO
based on the probability <code>pTrans</code>.</li>
</ul>
<p>After these five propagation steps, the simulation moves to the next
time step.</p>
</div>
</div>
<div class="section level2">
<h2 id="setting-up-the-core-functions">Setting up the core functions<a class="anchor" aria-label="anchor" href="#setting-up-the-core-functions"></a>
</h2>
<p><code>nosoi</code> runs under a series of user-defined probabilities
and numbers (see <a href="nosoi.html#essential-building-blocs-3-probabilities-and-2-numbers">General
principles</a> ). Each follows the same principles to be set up. We
provide here a detailed explanation on how to set up a function
correctly so that it can be used in the simulator. This will apply to
the five core functions already mentioned: <code>pExit</code>,
<code>pMove</code>, <code>sdMove</code>, <code>nContact</code> and
<code>pTrans</code>.</p>
<div class="section level3">
<h3 id="expected-output">Expected output<a class="anchor" aria-label="anchor" href="#expected-output"></a>
</h3>
<p>Every function which name starts with a <code>p</code>
(i.e. <code>pExit</code>, <code>pMove</code> and <code>pTrans</code>)
should return a single probability (a number between 0 and 1).</p>
<p><code>nContact</code> should return a positive natural number
(positive integer).</p>
<p><code>sdMove</code> should return a real number (keep in mind this
number is related to your coordinate space).</p>
</div>
<div class="section level3">
<h3 id="functions-arguments">Functions’ arguments<a class="anchor" aria-label="anchor" href="#functions-arguments"></a>
</h3>
<div class="section level4">
<h4 id="t">
<code>t</code><a class="anchor" aria-label="anchor" href="#t"></a>
</h4>
<p>A core function in <code>nosoi</code> should always explicitly depend
on the time <code>t</code> (e.g. <code>pExit(t)</code>), even if
<code>t</code> is not used within the body of the function. For
instance, to return a single constant value of 0.08, the function should
be expressed as:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">p_Function</span>  <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">t</span><span class="op">)</span><span class="op">{</span><span class="fl">0.08</span><span class="op">}</span></span></code></pre></div>
<!-- This will return a single value (0.08). -->
<p>The argument <code>t</code> represents the time since the host’s
initial infection, and can be included in the body of the function, to
model a time-varying probability or number. For instance, a quantity
depending on the following function will evolve in time as a logistic
distribution with parameters <span class="math inline">\(\mu\)</span> 10
and <span class="math inline">\(s\)</span> 2:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">p_Function</span>  <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">t</span><span class="op">)</span><span class="op">{</span><span class="fu"><a href="https://rdrr.io/r/stats/Logistic.html" class="external-link">plogis</a></span><span class="op">(</span><span class="va">t</span>,<span class="fl">10</span>,<span class="fl">2</span><span class="op">)</span><span class="op">}</span></span></code></pre></div>
<!-- Here the probability/number will follow a logistic distribution with parameters $\mu$ 10 and $s$ 2. -->
</div>
<div class="section level4">
<h4 id="prestime">
<code>prestime</code><a class="anchor" aria-label="anchor" href="#prestime"></a>
</h4>
<p>The argument <code>prestime</code> can be used to represent the
<em>absolute</em> time of the simulation, shared by all the hosts (as
opposed to the relative time since infection <code>t</code>, which is
individual-dependent). For instance, the following function can be used
to produce a periodic pattern:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">p_Function</span>  <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">t</span>,<span class="va">prestime</span><span class="op">)</span><span class="op">{</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Trig.html" class="external-link">sin</a></span><span class="op">(</span><span class="va">prestime</span><span class="op">/</span><span class="fl">12</span><span class="op">)</span><span class="op">+</span><span class="fl">1</span><span class="op">)</span><span class="op">/</span><span class="fl">2</span><span class="op">}</span></span></code></pre></div>
<!-- In that specific case, the function will return values following a periodic pattern. -->
</div>
<div class="section level4">
<h4 id="current-in-and-current-env-value">
<code>current.in</code> and <code>current.env.value</code><a class="anchor" aria-label="anchor" href="#current-in-and-current-env-value"></a>
</h4>
<p>The arguments <code>current.in</code> (discrete structure) or
<code>current.env.value</code> (continuous structure) can be used to
represent the location of the host (only if a structured population is
used), as shown below:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">p_Function</span>  <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">t</span>,<span class="va">current.in</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="kw">if</span><span class="op">(</span><span class="va">current.in</span><span class="op">==</span><span class="st">"A"</span><span class="op">)</span><span class="op">{</span><span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="fl">0</span><span class="op">)</span><span class="op">}</span></span>
<span>  <span class="kw">if</span><span class="op">(</span><span class="va">current.in</span><span class="op">==</span><span class="st">"B"</span><span class="op">)</span><span class="op">{</span><span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="fl">0.5</span><span class="op">)</span><span class="op">}</span></span>
<span>  <span class="kw">if</span><span class="op">(</span><span class="va">current.in</span><span class="op">==</span><span class="st">"C"</span><span class="op">)</span><span class="op">{</span><span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span><span class="op">}</span><span class="op">}</span> <span class="co">#discrete (between states "A","B" and "C")</span></span>
<span></span>
<span><span class="va">p_Function</span>  <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">t</span>,<span class="va">current.env.value</span><span class="op">)</span><span class="op">{</span><span class="va">current.env.value</span><span class="op">/</span><span class="fl">100</span><span class="op">}</span> <span class="co">#continuous</span></span></code></pre></div>
<p>For more details on how to set up the influence of the structure, we
refer to the tutorials on <a href="discrete.html">discrete</a> and <a href="continuous.html">continuous</a> structure.</p>
</div>
<div class="section level4">
<h4 id="host-count">
<code>host.count</code><a class="anchor" aria-label="anchor" href="#host-count"></a>
</h4>
<p>The argument <code>host.count</code> can be used to represent the
number of hosts present at a given location (only for a structured
population), as in the following:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">p_Function</span>  <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">t</span>,<span class="va">current.in</span>, <span class="va">host.count</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="kw">if</span><span class="op">(</span><span class="va">current.in</span><span class="op">==</span><span class="st">"A"</span><span class="op">)</span><span class="op">{</span><span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="fl">0</span><span class="op">)</span><span class="op">}</span></span>
<span>  <span class="kw">if</span><span class="op">(</span><span class="va">current.in</span><span class="op">==</span><span class="st">"B"</span> <span class="op">&amp;</span> <span class="va">host.count</span> <span class="op">&lt;</span> <span class="fl">300</span> <span class="op">)</span><span class="op">{</span><span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="fl">0.5</span><span class="op">)</span><span class="op">}</span></span>
<span>  <span class="kw">if</span><span class="op">(</span><span class="va">current.in</span><span class="op">==</span><span class="st">"B"</span> <span class="op">&amp;</span> <span class="va">host.count</span> <span class="op">&gt;=</span> <span class="fl">300</span> <span class="op">)</span><span class="op">{</span><span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="fl">0</span><span class="op">)</span><span class="op">}</span></span>
<span>  <span class="kw">if</span><span class="op">(</span><span class="va">current.in</span><span class="op">==</span><span class="st">"C"</span><span class="op">)</span><span class="op">{</span><span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span><span class="op">}</span><span class="op">}</span> <span class="co">#discrete (between states "A","B" and "C")</span></span>
<span></span>
<span><span class="va">p_Function</span>  <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">t</span>,<span class="va">current.env.value</span>,<span class="va">host.count</span><span class="op">)</span><span class="op">{</span><span class="op">(</span><span class="va">current.env.value</span><span class="op">-</span><span class="va">host.count</span><span class="op">)</span><span class="op">/</span><span class="fl">100</span><span class="op">}</span> <span class="co">#continuous</span></span></code></pre></div>
</div>
</div>
<div class="section level3">
<h3 id="extra-parameters">Extra Parameters<a class="anchor" aria-label="anchor" href="#extra-parameters"></a>
</h3>
<p>Any of the parameters used in these functions can be themselves
dependent on the individual host (in order to include some heterogeneity
between host). For instance, the <span class="math inline">\(\mu\)</span> parameter of a logistic distribution
can be determined for each individual host by another function to be
specified:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">p_Function</span>  <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">t</span>,<span class="va">pFunction.param1</span><span class="op">)</span><span class="op">{</span><span class="fu"><a href="https://rdrr.io/r/stats/Logistic.html" class="external-link">plogis</a></span><span class="op">(</span><span class="va">t</span>,<span class="va">pFunction.param1</span>,<span class="fl">2</span><span class="op">)</span><span class="op">}</span></span></code></pre></div>
<!-- In this case, the $\mu$ parameter will be determined for each individual host by another function that you have to specify. Here we will use: -->
<p>Where for instance <span class="math inline">\(\mu\)</span> can be
sampled from a normal distribution (mean = 10 and sd = 2):</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">p_Function_param1</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">{</span><span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="va">x</span>,mean<span class="op">=</span><span class="fl">10</span>,sd<span class="op">=</span><span class="fl">2</span><span class="op">)</span><span class="op">}</span> <span class="co">#sampling one parameter for each infected individual</span></span></code></pre></div>
<p>Notice here that the function is expressed as a function of
<code>x</code> instead of <code>t</code>. <code>x</code> is present in
the body of the function as the number of draws to make from the
distribution.</p>
<p>Every parameter function you specify should be gathered into a list,
where the function determining the parameter for each individual (here,
<code>p_Function_param1</code>) has to be named according to the name
used in <code>p_Function</code> for this parameter (here,
<code>pFunction.param1</code>).</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">p_Function_parameters</span>  <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>pFunction.param1 <span class="op">=</span> <span class="va">p_Function_param1</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="combining-arguments">Combining arguments<a class="anchor" aria-label="anchor" href="#combining-arguments"></a>
</h3>
<p>We have previously shown that you can combine the time since
infection <code>t</code> with other parameters such as
<code>current.in</code> or <code>prestime</code>. In fact, you can
combine as many arguments as you want, making a function dependent on
the time since infection, current location, present time and individual
host-dependent parameters. They however need to respect a specific order
to be correctly parsed by the simulator: first <code>t</code>, then
<code>prestime</code>, then <code>current.in</code> (discrete) or
<code>current.env.value</code> (continuous) and finally individual
host-dependent parameters.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">p_Function</span>  <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">t</span>, <span class="va">prestime</span>, <span class="va">current.in</span>, <span class="va">pFunction.param1</span>, <span class="va">pFunction.param2</span>,<span class="va">...</span><span class="op">)</span><span class="op">{</span><span class="op">}</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="going-further">Going further<a class="anchor" aria-label="anchor" href="#going-further"></a>
</h2>
<p>Once your core functions are ready, you can provide everything
<code>nosoi</code> needs to run a simulation. A series of tutorials will
guide you in how to set up <code>nosoi</code> depending on your case,
both for single host and dual host scenarios:</p>
<ol style="list-style-type: decimal">
<li>
<a href="none.html">Spread of a pathogen in a homogeneous population
(no structure) of hosts</a>, a “simple” scenario.</li>
<li>
<a href="discrete.html">Spread of a pathogen in a structured
(discrete) population of hosts</a>.</li>
<li>
<a href="continuous.html">Spread of a pathogen in a structure
(continuous) population of hosts</a>.</li>
</ol>
<p>To get basic statistics or approximated phylogenetic trees out of
your simulations output, you can have a look at <a href="output.html">this page</a>. To visualize your simulations, you can
have a look at <a href="https://slequime.github.io/nosoi/articles/examples/viz.html" class="external-link">these
few examples</a>.</p>
<p>A series of practical examples are also available:</p>
<ul>
<li>
<a href="https://slequime.github.io/nosoi/articles/examples/dengue.html" class="external-link">Spread
of dengue virus in a discrete space</a>.</li>
<li>
<a href="https://slequime.github.io/nosoi/articles/examples/ebola.html" class="external-link">Spread
of Ebola virus in a continuous space</a>.</li>
<li>
<a href="https://slequime.github.io/nosoi/articles/examples/vector-competence.html" class="external-link">Epidemiological
impact of mosquito vector competence</a>.</li>
</ul>
<!-- PB: If the examples are not on the CRAN, could these dead link be a problem ? -->
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Sebastian Lequime, Paul Bastide, Simon Dellicour, Philippe Lemey, Guy Baele.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
